<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>11/A Ali'nin Paneli</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">

<style>
#sonucFoto{
  width:160px;height:200px;object-fit:cover;margin:14px auto 0;
  display:none;opacity:0;transform:scale(.9);
  transition:.3s;border-radius:14px;
  box-shadow:0 10px 30px rgba(0,0,0,.6)
}
#sonucFoto.show{opacity:1;transform:scale(1)}
@media(max-width:600px){#sonucFoto{width:120px;height:150px}}
.hidden{display:none}
hr{opacity:.2;margin:15px 0}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginBox" class="login-box">
  <h2>11/A Panel Giri≈üi</h2>
  <input id="kullanici" placeholder="Kullanƒ±cƒ± adƒ±">
  <input id="sifre" type="password" placeholder="≈ûifre">
  <button onclick="giris()">Giri≈ü Yap</button>
  <p id="loginHata"></p>
</div>

<!-- PANEL -->
<main id="panel" class="app hidden">

<header class="topbar">
  <h1 id="hosgeldin"></h1>
  <div>
    <button onclick="darkMode()">üåô</button>
    <button onclick="cikis()">üö™</button>
  </div>
</header>

<div class="search-box">
  <input id="arama" placeholder="isim ara">
  <button id="searchBtn">Ara</button>
</div>

<p id="ad"></p>
<p id="sonuc"></p>
<img id="sonucFoto">

<!-- KULLANICI ≈ûƒ∞FRE DEƒûƒ∞≈ûTƒ∞RME -->
<section class="announcements">
  <h3>üîê ≈ûifre Deƒüi≈ütir</h3>
  <input id="yeniSifre" type="password" placeholder="Yeni ≈üifre">
  <button onclick="sifreDegistir()">Kaydet</button>
  <p id="sifreBilgi"></p>
</section>

<!-- ADMIN PANEL -->
<section id="adminPanel" class="announcements hidden">
  <h3>üëë Admin Paneli</h3>

  <h4>üü¢ Online Kullanƒ±cƒ±lar</h4>
  <div id="onlineList"></div>

  <h4>üìú Loglar</h4>
  <div id="loglar"></div>

  <hr>

  <h4>üîß Kullanƒ±cƒ± ≈ûifresi Deƒüi≈ütir</h4>
  <input id="adminUser" placeholder="Kullanƒ±cƒ± adƒ±">
  <input id="adminYeniSifre" type="password" placeholder="Yeni ≈üifre">
  <button onclick="adminSifreDegistir()">Deƒüi≈ütir</button>
  <p id="adminBilgi"></p>
</section>

</main>

<audio id="successSound" src="sounds/success.mp3"></audio>
<audio id="errorSound" src="sounds/error.mp3"></audio>

<script>
/* ===== ELEMENTLER ===== */
const kullanici = document.getElementById("kullanici");
const sifre = document.getElementById("sifre");
const loginBox = document.getElementById("loginBox");
const panel = document.getElementById("panel");
const hosgeldin = document.getElementById("hosgeldin");
const adminPanel = document.getElementById("adminPanel");
const loglar = document.getElementById("loglar");
const onlineList = document.getElementById("onlineList");

const arama = document.getElementById("arama");
const searchBtn = document.getElementById("searchBtn");
const ad = document.getElementById("ad");
const sonuc = document.getElementById("sonuc");
const sonucFoto = document.getElementById("sonucFoto");

const yeniSifre = document.getElementById("yeniSifre");
const sifreBilgi = document.getElementById("sifreBilgi");
const adminUser = document.getElementById("adminUser");
const adminYeniSifre = document.getElementById("adminYeniSifre");
const adminBilgi = document.getElementById("adminBilgi");

const successSound = document.getElementById("successSound");
const errorSound = document.getElementById("errorSound");

/* ===== KULLANICILAR (LOCALSTORAGE DESTEKLƒ∞) ===== */
let users = JSON.parse(localStorage.getItem("users")) || {
  admin:{sifre:"admin123",rol:"admin"},
  k√ºpra:{sifre:"k123",rol:"user"},
  yusuf:{sifre:"y123",rol:"user"},
  beyza:{sifre:"b123",rol:"user"},
  enes:{sifre:"e123",rol:"user"},
  hira:{sifre:"h123",rol:"user"},
  hacer:{sifre:"ha123",rol:"user"},
  deniz:{sifre:"d123",rol:"user"},
  efe:{sifre:"ef123",rol:"user"},
  ayhan:{sifre:"a123",rol:"user"},
  dilber:{sifre:"di123",rol:"user"},
  samet:{sifre:"s123",rol:"user"},
  ipek:{sifre:"i123",rol:"user"},
  esma:{sifre:"es123",rol:"user"},
  sude:{sifre:"su123",rol:"user"},
  cehennet:{sifre:"c123",rol:"user"},
  berke:{sifre:"be123",rol:"user"},
  emin:{sifre:"em123",rol:"user"},
  hash√ºs:{sifre:"ha≈ü123",rol:"user"},
  b√ºnyamin:{sifre:"b√º123",rol:"user"},
  efsa:{sifre:"efsa123",rol:"user"},
  merve:{sifre:"m123",rol:"user"},
  cilo:{sifre:"ci123",rol:"user"},
  emre:{sifre:"er123",rol:"user"},
  yiƒüit:{sifre:"yƒ±123",rol:"user"}
};
localStorage.setItem("users",JSON.stringify(users));

let aktifKullanici = "";
let onlineUsers = [];

/* ===== LOGIN ===== */
function giris(){
  const k = kullanici.value.toLowerCase().trim();
  const s = sifre.value;

  if(users[k] && users[k].sifre === s){
    aktifKullanici = k;
    loginBox.classList.add("hidden");
    panel.classList.remove("hidden");
    hosgeldin.textContent = "Ho≈ügeldin " + k.toUpperCase();

    if(!onlineUsers.includes(k)) onlineUsers.push(k);
    onlineList.innerHTML = onlineUsers.join("<br>");

    if(users[k].rol === "admin"){
      adminPanel.classList.remove("hidden");
    }
  } else {
    loginHata.textContent="Hatalƒ± giri≈ü";
  }
}

function cikis(){ location.reload(); }
function darkMode(){ document.body.classList.toggle("dark"); }

/* ===== KULLANICI ≈ûƒ∞FRE DEƒûƒ∞≈ûTƒ∞R ===== */
function sifreDegistir(){
  if(!yeniSifre.value) return;
  users[aktifKullanici].sifre = yeniSifre.value;
  localStorage.setItem("users",JSON.stringify(users));
  sifreBilgi.textContent = "‚úÖ ≈ûifre g√ºncellendi";
  yeniSifre.value="";
}

/* ===== ADMIN ≈ûƒ∞FRE DEƒûƒ∞≈ûTƒ∞R ===== */
function adminSifreDegistir(){
  const u = adminUser.value.toLowerCase().trim();
  if(users[u]){
    users[u].sifre = adminYeniSifre.value;
    localStorage.setItem("users",JSON.stringify(users));
    adminBilgi.textContent = "‚úÖ ≈ûifre deƒüi≈ütirildi";
  } else {
    adminBilgi.textContent = "‚ùå Kullanƒ±cƒ± yok";
  }
}

/* ===== ARAMA (FOTO BOZULMADI) ===== */
const kisiler = {
  k√ºpra:{ad:"K√ºpra",mesaj:"hafif",foto:"fotos/k√ºpra.jpg"},
  yusuf:{ad:"Yusuf",mesaj:"ƒ±rk√ßƒ±",foto:"fotos/yusuf.jpg"},
  beyza:{ad:"Beyza",mesaj:"egoist sƒ±√ßan",foto:"fotos/beyza.jpg"},
  enes:{ad:"Enes",mesaj:"kkaahhppee",foto:"fotos/enes.jpg"},
  hira:{ad:"Hira",mesaj:"beyinsiz",foto:"fotos/hira.jpg"},
  hacer:{ad:"Hacer",mesaj:"erkek",foto:"fotos/hacer.jpg"},
  deniz:{ad:"Deniz",mesaj:"taklitman",foto:"fotos/deniz.jpg"},
  efe:{ad:"Efe",mesaj:"ya≈üƒ±yor",foto:"fotos/efe.jpg"},
  ayhan:{ad:"Ayhan",mesaj:"gergin adam",foto:"fotos/ayhan.jpg"},
  dilber:{ad:"Dilber",mesaj:"≈üevvalin50tonu",foto:"fotos/dilber.jpg"},
  samet:{ad:"Samet",mesaj:"ba≈ükan",foto:"fotos/samet.jpg"},
  ipek:{ad:"ƒ∞pek",mesaj:"gergedan",foto:"fotos/ipek.jpg"},
  esma:{ad:"Esma",mesaj:"umrede",foto:"fotos/esma.jpg"},
  sude:{ad:"Sude",mesaj:"g√∂zl√ºk yokki",foto:"fotos/sude.jpg"},
  cehennet:{ad:"Cehennet",mesaj:"depremci",foto:"fotos/cehennet.jpg"},
  berke:{ad:"Berke",mesaj:"kas k√ºtlesi",foto:"fotos/berke.jpg"},
  emin:{ad:"Emin",mesaj:"atat√ºrk",foto:"fotos/emin.jpg"},
  hash√ºs:{ad:"Hash√ºs",mesaj:"ineƒüin kal√ßasƒ±",foto:"fotos/hash√ºs.jpg"},
  b√ºnyamin:{ad:"B√ºnyamin",mesaj:"bilekkƒ±ran",foto:"fotos/b√ºnyamin.jpg"},
  efsa:{ad:"Efsa",mesaj:"ba≈ükaniye",foto:"fotos/efsa.jpg"},
  merve:{ad:"Merve",mesaj:"efsanƒ±n elli tonu",foto:"fotos/merve.jpg"},
  cilo:{ad:"Cilo",mesaj:"godfather",foto:"fotos/cilo.jpg"},
  emre:{ad:"Emre",mesaj:"bƒ±yƒ±klƒ±",foto:"fotos/emre.jpg"},
  yiƒüit:{ad:"Yiƒüit",mesaj:"bjkci",foto:"fotos/yiƒüit.jpg"}
};

searchBtn.onclick = ()=>{
  const key = arama.value.toLowerCase().trim();
  sonucFoto.style.display="none";
  sonucFoto.classList.remove("show");
  if(kisiler[key]){
    const k = kisiler[key];
    ad.textContent=k.ad;
    sonuc.textContent=k.mesaj;
    setTimeout(()=>{
      sonucFoto.src=k.foto;
      sonucFoto.style.display="block";
      sonucFoto.classList.add("show");
    },150);
    successSound.play();
  } else {
    sonuc.textContent="Bulunamadƒ±";
    errorSound.play();
  }
};
</script>

</body>
</html>
